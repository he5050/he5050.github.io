(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{300:function(e,a,t){"use strict";t.r(a),function(e){t.d(a,"default",(function(){return N}));var n,c=t(97),s=(t(279),t(0),t(98)),o=["components"];function p(){return(p=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function b(e,a){if(null==e)return{};var t,n,c=function(e,a){if(null==e)return{};var t,n,c={},s=Object.keys(e);for(n=0;n<s.length;n++)t=s[n],a.indexOf(t)>=0||(c[t]=e[t]);return c}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)t=s[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(c[t]=e[t])}return c}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var r,m,l={};function N(e){var a=e.components,t=b(e,o);return Object(s.b)("wrapper",p({},l,t,{components:a,mdxType:"MDXLayout"}),Object(s.b)("h1",{className:"__internal",id:"自定义主题"},"自定义主题",Object(s.b)("a",{parentName:"h1",href:"#%E8%87%AA%E5%AE%9A%E4%B9%89%E4%B8%BB%E9%A2%98","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("h2",{className:"__internal",id:"自定义布局"},"自定义布局",Object(s.b)("a",{parentName:"h2",href:"#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B8%83%E5%B1%80","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("p",null,"要开发自定义主题，您需要在 rcpress 目录下创建一个新的主题目录。"),Object(s.b)("p",null,"您可以通过创建“ Layout.js”来自定义主题。"),Object(s.b)("div",{className:"rcpress-highlight","data-language":"bash"},Object(s.b)("pre",{parentName:"div",className:"language-bash"},Object(s.b)("code",{parentName:"pre",className:"language-bash"},"├── .rcpress\n    ├── theme                 ",Object(s.b)("span",{parentName:"code",className:"token comment"},"# Theme folder for storing custom themes"),"\n        ├── Layout.js         ",Object(s.b)("span",{parentName:"code",className:"token comment"},"# Customize the entire")))),Object(s.b)("h2",{className:"__internal",id:"使用依赖项中的主题"},"使用依赖项中的主题",Object(s.b)("a",{parentName:"h2",href:"#%E4%BD%BF%E7%94%A8%E4%BE%9D%E8%B5%96%E9%A1%B9%E4%B8%AD%E7%9A%84%E4%B8%BB%E9%A2%98","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"js"},Object(s.b)("pre",{parentName:"div",className:"language-js"},Object(s.b)("code",{parentName:"pre",className:"language-js"},"module",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"exports ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  theme",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token string"},"'xxx'"),"\n",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";")))),Object(s.b)("h2",{className:"__internal",id:"获取站点数据和当前页面数据"},"获取站点数据和当前页面数据",Object(s.b)("a",{parentName:"h2",href:"#%E8%8E%B7%E5%8F%96%E7%AB%99%E7%82%B9%E6%95%B0%E6%8D%AE%E5%92%8C%E5%BD%93%E5%89%8D%E9%A1%B5%E9%9D%A2%E6%95%B0%E6%8D%AE","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("p",null,"页面数据存储在 ",Object(s.b)("inlineCode",{parentName:"p"},"SiteContext")," 中。它是从 rcpress 导出的。"),Object(s.b)("div",{className:"rcpress-highlight","data-language":"jsx"},Object(s.b)("pre",{parentName:"div",className:"language-jsx"},Object(s.b)("code",{parentName:"pre",className:"language-jsx"},Object(s.b)("span",{parentName:"code",className:"token keyword"},"import")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{")," SiteContext ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}")," ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"from")," ",Object(s.b)("span",{parentName:"code",className:"token string"},"'@rcpress/core'"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",Object(s.b)("span",{parentName:"code",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token punctuation"},"<"),Object(s.b)("span",{parentName:"span",className:"token class-name"},"SiteContext.Provider")),Object(s.b)("span",{parentName:"span",className:"token punctuation"},">")),Object(s.b)("span",{parentName:"code",className:"token plain-text"},"\n"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",Object(s.b)("span",{parentName:"code",className:"token parameter"},"siteContext")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=>")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    console",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"log"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"siteContext",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),"\n  ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),Object(s.b)("span",{parentName:"code",className:"token plain-text"},"\n"),Object(s.b)("span",{parentName:"code",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token punctuation"},"</"),Object(s.b)("span",{parentName:"span",className:"token class-name"},"SiteContext.Provier")),Object(s.b)("span",{parentName:"span",className:"token punctuation"},">"))))),Object(s.b)("p",null,"也可以通过",Object(s.b)("inlineCode",{parentName:"p"},"react hook"),"获取站点数据。"),Object(s.b)("div",{className:"rcpress-highlight","data-language":"js"},Object(s.b)("pre",{parentName:"div",className:"language-js"},Object(s.b)("code",{parentName:"pre",className:"language-js"},Object(s.b)("span",{parentName:"code",className:"token keyword"},"import")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{")," useSiteContext ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}")," ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"from")," ",Object(s.b)("span",{parentName:"code",className:"token string"},"'@rcpress/core'"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",Object(s.b)("span",{parentName:"code",className:"token keyword"},"const")," siteContext ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," ",Object(s.b)("span",{parentName:"code",className:"token function"},"useSiteContext"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\nconsole",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"log"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"siteContext",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";")))),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"SiteContext"),"是由",Object(s.b)("inlineCode",{parentName:"p"},"React.createContext")," api 创建而成，用法可以参照一下 react 的",Object(s.b)("a",{parentName:"p",href:"https://reactjs.org/docs/context.html#reactcreatecontext",target:"_blank"},"文档"),"。"),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"SiteContext"),"的值为一个",Object(s.b)("inlineCode",{parentName:"p"},"Object"),"，其中包含 6 个属性："),Object(s.b)("div",{className:"rcpress-highlight","data-language":"js"},Object(s.b)("pre",{parentName:"div",className:"language-js"},Object(s.b)("code",{parentName:"pre",className:"language-js"},Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  siteData",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n  path",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token string"},"''"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n  currentLocaleSiteData",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n  currentPageSidebarItems",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n  allPagesSidebarItems",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n  currentPageInfo",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}")))),Object(s.b)("p",null,"以下逐项进行讲解："),Object(s.b)("h3",{className:"__internal",id:"sitedata"},"siteData",Object(s.b)("a",{parentName:"h3",href:"#sitedata","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul",className:"__internal"},"类型: ",Object(s.b)("inlineCode",{parentName:"li"},"Object"))),Object(s.b)("p",null,"也就是你",Object(s.b)("inlineCode",{parentName:"p"},".rcpress/config.js"),"文件里的所有内容。"),Object(s.b)("h3",{className:"__internal",id:"path"},"path",Object(s.b)("a",{parentName:"h3",href:"#path","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul",className:"__internal"},"类型: ",Object(s.b)("inlineCode",{parentName:"li"},"String"))),Object(s.b)("p",null,"网站当前页面路径"),Object(s.b)("h3",{className:"__internal",id:"currentlocalesitedata"},"currentLocaleSiteData",Object(s.b)("a",{parentName:"h3",href:"#currentlocalesitedata","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul",className:"__internal"},"类型: ",Object(s.b)("inlineCode",{parentName:"li"},"Object"))),Object(s.b)("p",null,"当前语言下的网站配置，如果没有设置多语言的话那么和",Object(s.b)("inlineCode",{parentName:"p"},"siteData"),"一样"),Object(s.b)("h3",{className:"__internal",id:"currentpagesidebaritems"},"currentPageSidebarItems",Object(s.b)("a",{parentName:"h3",href:"#currentpagesidebaritems","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul",className:"__internal"},"类型: ",Object(s.b)("inlineCode",{parentName:"li"},"Object"))),Object(s.b)("p",null,"当前页面(除了首页)的左侧菜单栏。"),Object(s.b)("h3",{className:"__internal",id:"allpagessidebaritems"},"allPagesSidebarItems",Object(s.b)("a",{parentName:"h3",href:"#allpagessidebaritems","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul",className:"__internal"},"类型: ",Object(s.b)("inlineCode",{parentName:"li"},"Object"))),Object(s.b)("p",null,"所有页面(除了首页)的左侧菜单栏。"),Object(s.b)("h3",{className:"__internal",id:"currentpageinfo"},"currentPageInfo",Object(s.b)("a",{parentName:"h3",href:"#currentpageinfo","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul",className:"__internal"},"类型: ",Object(s.b)("inlineCode",{parentName:"li"},"Object"))),Object(s.b)("p",null,"当前页面数据,值为："),Object(s.b)("div",{className:"rcpress-highlight","data-language":"js"},Object(s.b)("pre",{parentName:"div",className:"language-js"},Object(s.b)("code",{parentName:"pre",className:"language-js"},Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  code",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    body",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token string"},"''")," ",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 当前页面内容代码。只能用mdx插件的`MDXRenderer`函数进行渲染。"),"\n  ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n  fields",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    avatarList",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"["),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"]"),"， ",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 为当前页面贡献过的用户信息列表"),"\n    modifiedTime",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token string"},"'1564579847121'"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 当前页面修改时间戳"),"\n    path",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token string"},"'packages/docs/docs/zh/guide/theme.md'")," ",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 从当前页面文件到项目根目录的相对路径"),"\n  ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"，\n  tableOfContents",Object(s.b)("span",{parentName:"code",className:"token operator"},":"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      items",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"["),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"]")," ",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 当前页目录"),"\n  ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n  headings",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"["),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"depth",Object(s.b)("span",{parentName:"code",className:"token operator"},":"),Object(s.b)("span",{parentName:"code",className:"token number"},"1"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"value",Object(s.b)("span",{parentName:"code",className:"token operator"},":"),Object(s.b)("span",{parentName:"code",className:"token string"},"'自定义主题'"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"]")," ",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 当前页标题"),"\n",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}")))),Object(s.b)("h2",{className:"__internal",id:"修改默认主题"},"修改默认主题",Object(s.b)("a",{parentName:"h2",href:"#%E4%BF%AE%E6%94%B9%E9%BB%98%E8%AE%A4%E4%B8%BB%E9%A2%98","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("p",null,"在项目根目录下运行下列命令:"),Object(s.b)("div",{className:"rcpress-highlight","data-language":"bash"},Object(s.b)("pre",{parentName:"div",className:"language-bash"},Object(s.b)("code",{parentName:"pre",className:"language-bash"},"rcpress ",Object(s.b)("span",{parentName:"code",className:"token function"},"eject")))),Object(s.b)("p",null,"即可把所有默认主题拷贝到当前工作目录下的",Object(s.b)("inlineCode",{parentName:"p"},".rcpress/theme"),"文件夹下， 然后你就=可以修改整个默认主题了。"))}N.isMDXComponent=!0,N=Object(c.hot)(e)(N),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(r.register(l,"layoutProps","E:\\111\\my-blog\\docs\\zh\\guide\\theme.md"),r.register("wrapper","MDXLayout","E:\\111\\my-blog\\docs\\zh\\guide\\theme.md"),r.register(N,"MDXContent","E:\\111\\my-blog\\docs\\zh\\guide\\theme.md")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)}.call(this,t(11)(e))}}]);