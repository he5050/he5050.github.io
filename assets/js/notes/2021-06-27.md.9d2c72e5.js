(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{321:function(e,a,n){"use strict";n.r(a),function(e){n.d(a,"default",(function(){return d}));var t,c=n(108),s=(n(306),n(0),n(109)),o=["components"];function p(){return(p=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(this,arguments)}function b(e,a){if(null==e)return{};var n,t,c=function(e,a){if(null==e)return{};var n,t,c={},s=Object.keys(e);for(t=0;t<s.length;t++)n=s[t],a.indexOf(n)>=0||(c[n]=e[n]);return c}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++)n=s[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var m,r,N=function(e){return function(a){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),Object(s.b)("div",a)}},l=N("Footer"),u={};function d(e){var a=e.components,n=b(e,o);return Object(s.b)("wrapper",p({},u,n,{components:a,mdxType:"MDXLayout"}),Object(s.b)("blockquote",null,Object(s.b)(l,{mdxType:"Footer"})),Object(s.b)("h1",{className:"__internal",id:"4判断用户手机旋屏"},"4.判断用户手机旋屏",Object(s.b)("a",{parentName:"h1",href:"#4%E5%88%A4%E6%96%AD%E7%94%A8%E6%88%B7%E6%89%8B%E6%9C%BA%E6%97%8B%E5%B1%8F","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("p",null,"判断用户屏幕大概有这几种方法："),Object(s.b)("p",null,"1、CSS Media Queries"),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"内联样式")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"css"},Object(s.b)("pre",{parentName:"div",className:"language-css"},Object(s.b)("code",{parentName:"pre",className:"language-css"},Object(s.b)("span",{parentName:"code",className:"token atrule"},Object(s.b)("span",{parentName:"span",className:"token rule"},"@media")," screen ",Object(s.b)("span",{parentName:"span",className:"token keyword"},"and")," ",Object(s.b)("span",{parentName:"span",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"span",className:"token property"},"orientation"),Object(s.b)("span",{parentName:"span",className:"token punctuation"},":"),"portrait",Object(s.b)("span",{parentName:"span",className:"token punctuation"},")"))," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    //竖屏\n",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",Object(s.b)("span",{parentName:"code",className:"token atrule"},Object(s.b)("span",{parentName:"span",className:"token rule"},"@media")," screen ",Object(s.b)("span",{parentName:"span",className:"token keyword"},"and")," ",Object(s.b)("span",{parentName:"span",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"span",className:"token property"},"orientation"),Object(s.b)("span",{parentName:"span",className:"token punctuation"},":"),"landscape",Object(s.b)("span",{parentName:"span",className:"token punctuation"},")"))," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    //横屏\n",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}")))),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"外联样式")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"html"},Object(s.b)("pre",{parentName:"div",className:"language-html"},Object(s.b)("code",{parentName:"pre",className:"language-html"},Object(s.b)("span",{parentName:"code",className:"token comment"},"\x3c!-- 竖屏 --\x3e"),"\n",Object(s.b)("span",{parentName:"code",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token punctuation"},"<"),"link")," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"rel"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"stylesheet",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'))," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"media"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"all and (orientation:portrait)",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'))," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"href"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"...",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'))," ",Object(s.b)("span",{parentName:"span",className:"token punctuation"},"/>")),"\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"\x3c!-- 横屏 --\x3e"),"\n",Object(s.b)("span",{parentName:"code",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token punctuation"},"<"),"link")," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"rel"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"stylesheet",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'))," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"media"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"all and (orientation:landscape)",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'))," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"href"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"...",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'))," ",Object(s.b)("span",{parentName:"span",className:"token punctuation"},"/>"))))),Object(s.b)("p",null,"2、",Object(s.b)("inlineCode",{parentName:"p"},"window.matchMedia()")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"javascript"},Object(s.b)("pre",{parentName:"div",className:"language-javascript"},Object(s.b)("code",{parentName:"pre",className:"language-javascript"},Object(s.b)("span",{parentName:"code",className:"token keyword"},"var")," mql ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," window",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"matchMedia"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token string"},'"(orientation: portrait)"'),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(s.b)("span",{parentName:"code",className:"token keyword"},"function")," ",Object(s.b)("span",{parentName:"code",className:"token function"},"onMatchMeidaChange"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token parameter"},"mql"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"if"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"mql",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"matches",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        ",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 竖屏"),"\n    ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),Object(s.b)("span",{parentName:"code",className:"token keyword"},"else")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        ",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 横屏"),"\n    ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",Object(s.b)("span",{parentName:"code",className:"token function"},"onMatchMeidaChange"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"mql",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\nmql",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"addListener"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"onMatchMeidaChange",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";")))),Object(s.b)("p",null,"3、",Object(s.b)("inlineCode",{parentName:"p"},"window.innerHeight/window.innerWidth")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"javascript"},Object(s.b)("pre",{parentName:"div",className:"language-javascript"},Object(s.b)("code",{parentName:"pre",className:"language-javascript"},Object(s.b)("span",{parentName:"code",className:"token keyword"},"function")," ",Object(s.b)("span",{parentName:"code",className:"token function"},"detectOrient"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"if"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"window",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"innerHeight ",Object(s.b)("span",{parentName:"code",className:"token operator"},">=")," window",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"innerWidth",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        ",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 竖屏"),"\n    ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),Object(s.b)("span",{parentName:"code",className:"token keyword"},"else")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        ",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 横屏"),"\n    ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",Object(s.b)("span",{parentName:"code",className:"token function"},"detectOrient"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\nwindow",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"addEventListener"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token string"},"'resize'"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"detectOrient",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";")))),Object(s.b)("p",null,"4、",Object(s.b)("inlineCode",{parentName:"p"},"window.orientation")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"javascript"},Object(s.b)("pre",{parentName:"div",className:"language-javascript"},Object(s.b)("code",{parentName:"pre",className:"language-javascript"},Object(s.b)("span",{parentName:"code",className:"token keyword"},"switch"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"window",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"orientation",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"case")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"0"),Object(s.b)("span",{parentName:"code",className:"token operator"},":"),"\n        displayStr ",Object(s.b)("span",{parentName:"code",className:"token operator"},"+=")," ",Object(s.b)("span",{parentName:"code",className:"token string"},'"Portrait"'),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n        ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"break"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"case")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"-"),Object(s.b)("span",{parentName:"code",className:"token number"},"90"),Object(s.b)("span",{parentName:"code",className:"token operator"},":"),"\n        displayStr ",Object(s.b)("span",{parentName:"code",className:"token operator"},"+=")," ",Object(s.b)("span",{parentName:"code",className:"token string"},'"Landscape (right, screen turned clockwise)"'),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n        ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"break"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"case")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"90"),Object(s.b)("span",{parentName:"code",className:"token operator"},":"),"\n        displayStr ",Object(s.b)("span",{parentName:"code",className:"token operator"},"+=")," ",Object(s.b)("span",{parentName:"code",className:"token string"},'"Landscape (left, screen turned counterclockwise)"'),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n        ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"break"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"case")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"180"),Object(s.b)("span",{parentName:"code",className:"token operator"},":"),"\n        displayStr ",Object(s.b)("span",{parentName:"code",className:"token operator"},"+=")," ",Object(s.b)("span",{parentName:"code",className:"token string"},'"Portrait (upside-down portrait)"'),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n        ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"break"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n",Object(s.b)("span",{parentName:"code",className:"token keyword"},"function")," ",Object(s.b)("span",{parentName:"code",className:"token function"},"detectOrient"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"if")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"Math",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"abs"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"window",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"orientation",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"===")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"90"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        ",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 横屏"),"\n    ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}")," ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"else")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        ",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 竖屏"),"\n    ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",Object(s.b)("span",{parentName:"code",className:"token function"},"detectOrient"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\nwindow",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"addEventListener"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token string"},"'orientationchange'"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"detectOrient",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";")))),Object(s.b)("p",null,"更详细的内容请移步至：",Object(s.b)("a",{parentName:"p",href:"https://aotu.io/notes/2017/01/31/detect-orientation/",target:"_blank"},"探讨判断横竖屏的最佳实现")))}d.isMDXComponent=!0,d=Object(c.hot)(e)(d),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(m.register(N,"makeShortcode","E:\\h-project\\my-blog\\docs\\notes\\2021-06-27.md"),m.register(l,"Footer","E:\\h-project\\my-blog\\docs\\notes\\2021-06-27.md"),m.register(u,"layoutProps","E:\\h-project\\my-blog\\docs\\notes\\2021-06-27.md"),m.register("wrapper","MDXLayout","E:\\h-project\\my-blog\\docs\\notes\\2021-06-27.md"),m.register(d,"MDXContent","E:\\h-project\\my-blog\\docs\\notes\\2021-06-27.md")),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&r(e)}.call(this,n(3)(e))}}]);