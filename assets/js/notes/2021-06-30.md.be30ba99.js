(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{427:function(e,a,t){"use strict";t.r(a),function(e){t.d(a,"default",(function(){return i}));var n,c=t(168),s=(t(407),t(0),t(169)),p=["components"];function o(){return(o=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function m(e,a){if(null==e)return{};var t,n,c=function(e,a){if(null==e)return{};var t,n,c={},s=Object.keys(e);for(n=0;n<s.length;n++)t=s[n],a.indexOf(t)>=0||(c[t]=e[t]);return c}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)t=s[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(c[t]=e[t])}return c}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var b,r,N=function(e){return function(a){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),Object(s.b)("div",a)}},l=N("Footer"),u={};function i(e){var a=e.components,t=m(e,p);return Object(s.b)("wrapper",o({},u,t,{components:a,mdxType:"MDXLayout"}),Object(s.b)("blockquote",null,Object(s.b)(l,{mdxType:"Footer"})),Object(s.b)("h1",{className:"__internal",id:"7实用小技巧"},"7.实用小技巧",Object(s.b)("a",{parentName:"h1",href:"#7%E5%AE%9E%E7%94%A8%E5%B0%8F%E6%8A%80%E5%B7%A7","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("h2",{className:"__internal",id:"1彻底屏蔽鼠标右键"},"1.彻底屏蔽鼠标右键",Object(s.b)("a",{parentName:"h2",href:"#1%E5%BD%BB%E5%BA%95%E5%B1%8F%E8%94%BD%E9%BC%A0%E6%A0%87%E5%8F%B3%E9%94%AE","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"html"},Object(s.b)("pre",{parentName:"div",className:"language-html"},Object(s.b)("code",{parentName:"pre",className:"language-html"},'oncontextmenu="window.event.returnValue=false"\n< table border oncontextmenu=return(false)>< td>no< /table> 可用于 Table'))),Object(s.b)("h2",{className:"__internal",id:"2取消选取、防止复制"},"2.取消选取、防止复制",Object(s.b)("a",{parentName:"h2",href:"#2%E5%8F%96%E6%B6%88%E9%80%89%E5%8F%96%E3%80%81%E9%98%B2%E6%AD%A2%E5%A4%8D%E5%88%B6","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"html"},Object(s.b)("pre",{parentName:"div",className:"language-html"},Object(s.b)("code",{parentName:"pre",className:"language-html"},'< body onselectstart="return false">'))),Object(s.b)("h2",{className:"__internal",id:"3js不允许粘贴"},"3.JS不允许粘贴",Object(s.b)("a",{parentName:"h2",href:"#3js%E4%B8%8D%E5%85%81%E8%AE%B8%E7%B2%98%E8%B4%B4","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"js"},Object(s.b)("pre",{parentName:"div",className:"language-js"},Object(s.b)("code",{parentName:"pre",className:"language-js"},"onpaste",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token string"},'"return false"')))),Object(s.b)("h2",{className:"__internal",id:"4js防止复制"},"4.JS防止复制",Object(s.b)("a",{parentName:"h2",href:"#4js%E9%98%B2%E6%AD%A2%E5%A4%8D%E5%88%B6","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"js"},Object(s.b)("pre",{parentName:"div",className:"language-js"},Object(s.b)("code",{parentName:"pre",className:"language-js"},"oncopy",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token string"},'"return false;"')," oncut",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token string"},'"return false;"')))),Object(s.b)("h2",{className:"__internal",id:"6ie-地址栏前换成自己的图标"},"6.IE 地址栏前换成自己的图标",Object(s.b)("a",{parentName:"h2",href:"#6ie-%E5%9C%B0%E5%9D%80%E6%A0%8F%E5%89%8D%E6%8D%A2%E6%88%90%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9B%BE%E6%A0%87","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"html"},Object(s.b)("pre",{parentName:"div",className:"language-html"},Object(s.b)("code",{parentName:"pre",className:"language-html"},'< link rel="Shortcut Icon" href="favicon.ico">\n//在文件的根目录放进去这个图片，后缀修改成ico就可以了'))),Object(s.b)("h2",{className:"__internal",id:"7可以在收藏夹中显示出你的图标"},"7.可以在收藏夹中显示出你的图标",Object(s.b)("a",{parentName:"h2",href:"#7%E5%8F%AF%E4%BB%A5%E5%9C%A8%E6%94%B6%E8%97%8F%E5%A4%B9%E4%B8%AD%E6%98%BE%E7%A4%BA%E5%87%BA%E4%BD%A0%E7%9A%84%E5%9B%BE%E6%A0%87","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"html"},Object(s.b)("pre",{parentName:"div",className:"language-html"},Object(s.b)("code",{parentName:"pre",className:"language-html"},'< link rel="Bookmark" href="favicon.ico">'))),Object(s.b)("h2",{className:"__internal",id:"10关闭输入法"},"10.关闭输入法",Object(s.b)("a",{parentName:"h2",href:"#10%E5%85%B3%E9%97%AD%E8%BE%93%E5%85%A5%E6%B3%95","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"html"},Object(s.b)("pre",{parentName:"div",className:"language-html"},Object(s.b)("code",{parentName:"pre",className:"language-html"},'< input style="ime-mode:disabled">'))),Object(s.b)("h2",{className:"__internal",id:"11永远都会带着框架"},"11.永远都会带着框架",Object(s.b)("a",{parentName:"h2",href:"#11%E6%B0%B8%E8%BF%9C%E9%83%BD%E4%BC%9A%E5%B8%A6%E7%9D%80%E6%A1%86%E6%9E%B6","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"html"},Object(s.b)("pre",{parentName:"div",className:"language-html"},Object(s.b)("code",{parentName:"pre",className:"language-html"},'< script language="JavaScript">< !–\nif (window == top)top.location.href = “frames.htm"; //frames.htm 为框架网页\n// –>< /script>'))),Object(s.b)("h2",{className:"__internal",id:"12防止被人-frame"},"12.防止被人 frame",Object(s.b)("a",{parentName:"h2",href:"#12%E9%98%B2%E6%AD%A2%E8%A2%AB%E4%BA%BA-frame","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"html"},Object(s.b)("pre",{parentName:"div",className:"language-html"},Object(s.b)("code",{parentName:"pre",className:"language-html"},"< script language=JAVASCRIPT>< !–\nif (top.location != self.location)top.location=self.location;\n// –>< /script >"))),Object(s.b)("h2",{className:"__internal",id:"13网页将不能被另存为"},"13.网页将不能被另存为",Object(s.b)("a",{parentName:"h2",href:"#13%E7%BD%91%E9%A1%B5%E5%B0%86%E4%B8%8D%E8%83%BD%E8%A2%AB%E5%8F%A6%E5%AD%98%E4%B8%BA","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"html"},Object(s.b)("pre",{parentName:"div",className:"language-html"},Object(s.b)("code",{parentName:"pre",className:"language-html"},"< noscript>< iframe src=*.html>< /iframe>< /noscript>"))),Object(s.b)("h2",{className:"__internal",id:"14查看网页源代码"},"14.查看网页源代码",Object(s.b)("a",{parentName:"h2",href:"#14%E6%9F%A5%E7%9C%8B%E7%BD%91%E9%A1%B5%E6%BA%90%E4%BB%A3%E7%A0%81","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"html"},Object(s.b)("pre",{parentName:"div",className:"language-html"},Object(s.b)("code",{parentName:"pre",className:"language-html"},'< button onclick="window.location = “view-source:"+ “http://www.pconline.com.cn"">'))),Object(s.b)("h2",{className:"__internal",id:"15删除时确认"},"15.删除时确认",Object(s.b)("a",{parentName:"h2",href:"#15%E5%88%A0%E9%99%A4%E6%97%B6%E7%A1%AE%E8%AE%A4","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"html"},Object(s.b)("pre",{parentName:"div",className:"language-html"},Object(s.b)("code",{parentName:"pre",className:"language-html"},'< a href="javascript:if(confirm(" 确 实 要 删 除 吗 ?"))location="boos.asp?&areyou= 删 除\n&page=1″">删除< /a>'))),Object(s.b)("h2",{className:"__internal",id:"16取得控件的绝对位置"},"16.取得控件的绝对位置",Object(s.b)("a",{parentName:"h2",href:"#16%E5%8F%96%E5%BE%97%E6%8E%A7%E4%BB%B6%E7%9A%84%E7%BB%9D%E5%AF%B9%E4%BD%8D%E7%BD%AE","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"html"},Object(s.b)("pre",{parentName:"div",className:"language-html"},Object(s.b)("code",{parentName:"pre",className:"language-html"},'< script language="Javascript">\nfunction getIE(e){\nvar t=e.offsetTop;\nvar l=e.offsetLeft;\nwhile(e=e.offsetParent){\nt+=e.offsetTop;\nl+=e.offsetLeft;\n}\nalert(“top="+t+"/nleft="+l);\n}\n< /script>\n//VBScript\n< script language="VBScript">< !–\nfunction getIE()\ndim t,l,a,b\nset a=document.all.img1\nt=document.all.img1.offsetTop\nl=document.all.img1.offsetLeft\nwhile a.tagName< >"BODY"\nset a = a.offsetParent\nt=t+a.offsetTop\nl=l+a.offsetLeft\nwend\nmsgbox “top="&t&chr(13)&"left="&l,64,"得到控件的位置"\nend function\n–>< /script>'))),Object(s.b)("h2",{className:"__internal",id:"17光标是停在文本框文字的最后"},"17.光标是停在文本框文字的最后",Object(s.b)("a",{parentName:"h2",href:"#17%E5%85%89%E6%A0%87%E6%98%AF%E5%81%9C%E5%9C%A8%E6%96%87%E6%9C%AC%E6%A1%86%E6%96%87%E5%AD%97%E7%9A%84%E6%9C%80%E5%90%8E","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"html"},Object(s.b)("pre",{parentName:"div",className:"language-html"},Object(s.b)("code",{parentName:"pre",className:"language-html"},'< script language="javascript">\n\nfunction cc()\n{\nvar e = event.srcElement;\nvar r =e.createTextRange();\nr.moveStart(“character",e.value.length);\nr.collapse(true);\nr.select();\n}\n< /script>\n< input type=text name=text1 value="123″ onfocus="cc()">'))),Object(s.b)("h2",{className:"__internal",id:"18判断上一页的来源"},"18.判断上一页的来源",Object(s.b)("a",{parentName:"h2",href:"#18%E5%88%A4%E6%96%AD%E4%B8%8A%E4%B8%80%E9%A1%B5%E7%9A%84%E6%9D%A5%E6%BA%90","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"js"},Object(s.b)("pre",{parentName:"div",className:"language-js"},Object(s.b)("code",{parentName:"pre",className:"language-js"},"javascript",Object(s.b)("span",{parentName:"code",className:"token operator"},":"),"\ndocument",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"referrer"))),Object(s.b)("h2",{className:"__internal",id:"19最小化、最大化、关闭窗口"},"19.最小化、最大化、关闭窗口",Object(s.b)("a",{parentName:"h2",href:"#19%E6%9C%80%E5%B0%8F%E5%8C%96%E3%80%81%E6%9C%80%E5%A4%A7%E5%8C%96%E3%80%81%E5%85%B3%E9%97%AD%E7%AA%97%E5%8F%A3","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"html"},Object(s.b)("pre",{parentName:"div",className:"language-html"},Object(s.b)("code",{parentName:"pre",className:"language-html"},'< object id=hh1 classid="clsid:ADB880A6-D8FF-11CF-9377-00AA003B7A11″>\n< param name="Command" value="Minimize">< /object>\n< object id=hh2 classid="clsid:ADB880A6-D8FF-11CF-9377-00AA003B7A11″>\n< param name="Command" value="Maximize">< /object>\n< OBJECT id=hh3 classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11″>\n< PARAM NAME="Command" VALUE="Close">< /OBJECT>\n< input type=button value=最小化 onclick=hh1.Click()>\n< input type=button value=最大化 onclick=hh2.Click()>\n< input type=button value=关闭 onclick=hh3.Click()>'))),Object(s.b)("h2",{className:"__internal",id:"20屏蔽功能键-shiftaltctrl"},"20.屏蔽功能键 Shift,Alt,Ctrl",Object(s.b)("a",{parentName:"h2",href:"#20%E5%B1%8F%E8%94%BD%E5%8A%9F%E8%83%BD%E9%94%AE-shiftaltctrl","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"html"},Object(s.b)("pre",{parentName:"div",className:"language-html"},Object(s.b)("code",{parentName:"pre",className:"language-html"},'< script>\nfunction look(){\nif(event.shiftKey)\nalert(“禁止按 Shift 键!"); //可以换成 ALT CTRL\n}\ndocument.onkeydown=look;\n< /script>'))),Object(s.b)("h2",{className:"__internal",id:"21网页不会被缓存"},"21.网页不会被缓存",Object(s.b)("a",{parentName:"h2",href:"#21%E7%BD%91%E9%A1%B5%E4%B8%8D%E4%BC%9A%E8%A2%AB%E7%BC%93%E5%AD%98","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"html"},Object(s.b)("pre",{parentName:"div",className:"language-html"},Object(s.b)("code",{parentName:"pre",className:"language-html"},'< META HTTP-EQUIV="pragma" CONTENT="no-cache">\n< META HTTP-EQUIV="Cache-Control" CONTENT="no-cache, must-revalidate">\n< META HTTP-EQUIV="expires" CONTENT="Wed, 26 Feb 1997 08:21:57 GMT">\n或者< META HTTP-EQUIV="expires" CONTENT="0″>'))),Object(s.b)("h2",{className:"__internal",id:"22怎样让表单没有凹凸感？"},"22.怎样让表单没有凹凸感？",Object(s.b)("a",{parentName:"h2",href:"#22%E6%80%8E%E6%A0%B7%E8%AE%A9%E8%A1%A8%E5%8D%95%E6%B2%A1%E6%9C%89%E5%87%B9%E5%87%B8%E6%84%9F%EF%BC%9F","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"html"},Object(s.b)("pre",{parentName:"div",className:"language-html"},Object(s.b)("code",{parentName:"pre",className:"language-html"},'< input type=text style="border:1 solid #000000″>\n或\n< input type=text style="border-left:none; border-right:none; border-top:none; border-bottom:\n1 solid #000000″>< /textarea>'))),Object(s.b)("h2",{className:"__internal",id:"23让弹出窗口总是在最上面"},"23.让弹出窗口总是在最上面:",Object(s.b)("a",{parentName:"h2",href:"#23%E8%AE%A9%E5%BC%B9%E5%87%BA%E7%AA%97%E5%8F%A3%E6%80%BB%E6%98%AF%E5%9C%A8%E6%9C%80%E4%B8%8A%E9%9D%A2","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"html"},Object(s.b)("pre",{parentName:"div",className:"language-html"},Object(s.b)("code",{parentName:"pre",className:"language-html"},'< body onblur="this.focus();">'))),Object(s.b)("h2",{className:"__internal",id:"24不要滚动条"},"24.不要滚动条?",Object(s.b)("a",{parentName:"h2",href:"#24%E4%B8%8D%E8%A6%81%E6%BB%9A%E5%8A%A8%E6%9D%A1","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"html"},Object(s.b)("pre",{parentName:"div",className:"language-html"},Object(s.b)("code",{parentName:"pre",className:"language-html"},'让竖条没有:\n< body style="overflow:scroll;overflow-y:hidden">\n< /body>\n让横条没有:\n< body style="overflow:scroll;overflow-x:hidden">\n< /body>\n两个都去掉？更简单了\n< body scroll="no">\n< /body>'))),Object(s.b)("h2",{className:"__internal",id:"25怎样去掉图片链接点击后，图片周围的虚线？"},"25.怎样去掉图片链接点击后，图片周围的虚线？",Object(s.b)("a",{parentName:"h2",href:"#25%E6%80%8E%E6%A0%B7%E5%8E%BB%E6%8E%89%E5%9B%BE%E7%89%87%E9%93%BE%E6%8E%A5%E7%82%B9%E5%87%BB%E5%90%8E%EF%BC%8C%E5%9B%BE%E7%89%87%E5%91%A8%E5%9B%B4%E7%9A%84%E8%99%9A%E7%BA%BF%EF%BC%9F","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"html"},Object(s.b)("pre",{parentName:"div",className:"language-html"},Object(s.b)("code",{parentName:"pre",className:"language-html"},'< a href="#" onFocus="this.blur()">< img src="logo.jpg" border=0>< /a>'))),Object(s.b)("h2",{className:"__internal",id:"26在打开的子窗口刷新父窗口的代码里如何写？"},"26.在打开的子窗口刷新父窗口的代码里如何写？",Object(s.b)("a",{parentName:"h2",href:"#26%E5%9C%A8%E6%89%93%E5%BC%80%E7%9A%84%E5%AD%90%E7%AA%97%E5%8F%A3%E5%88%B7%E6%96%B0%E7%88%B6%E7%AA%97%E5%8F%A3%E7%9A%84%E4%BB%A3%E7%A0%81%E9%87%8C%E5%A6%82%E4%BD%95%E5%86%99%EF%BC%9F","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"html"},Object(s.b)("pre",{parentName:"div",className:"language-html"},Object(s.b)("code",{parentName:"pre",className:"language-html"},"window.opener.location.reload()"))),Object(s.b)("h2",{className:"__internal",id:"27如何设定打开页面的大小"},"27.如何设定打开页面的大小",Object(s.b)("a",{parentName:"h2",href:"#27%E5%A6%82%E4%BD%95%E8%AE%BE%E5%AE%9A%E6%89%93%E5%BC%80%E9%A1%B5%E9%9D%A2%E7%9A%84%E5%A4%A7%E5%B0%8F","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"html"},Object(s.b)("pre",{parentName:"div",className:"language-html"},Object(s.b)("code",{parentName:"pre",className:"language-html"},'< body onload="top.resizeTo(300,200);">\n打开页面的位置< body onload="top.moveBy(300,200);">'))),Object(s.b)("h2",{className:"__internal",id:"28在页面中如何加入不是满铺的背景图片拉动页面时背景图不动"},"28.在页面中如何加入不是满铺的背景图片,拉动页面时背景图不动",Object(s.b)("a",{parentName:"h2",href:"#28%E5%9C%A8%E9%A1%B5%E9%9D%A2%E4%B8%AD%E5%A6%82%E4%BD%95%E5%8A%A0%E5%85%A5%E4%B8%8D%E6%98%AF%E6%BB%A1%E9%93%BA%E7%9A%84%E8%83%8C%E6%99%AF%E5%9B%BE%E7%89%87%E6%8B%89%E5%8A%A8%E9%A1%B5%E9%9D%A2%E6%97%B6%E8%83%8C%E6%99%AF%E5%9B%BE%E4%B8%8D%E5%8A%A8","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"css"},Object(s.b)("pre",{parentName:"div",className:"language-css"},Object(s.b)("code",{parentName:"pre",className:"language-css"},"\n",Object(s.b)("span",{parentName:"code",className:"token selector"},"body"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n",Object(s.b)("span",{parentName:"code",className:"token property"},"background-image"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},":"),Object(s.b)("span",{parentName:"code",className:"token url"},Object(s.b)("span",{parentName:"span",className:"token function"},"url"),Object(s.b)("span",{parentName:"span",className:"token punctuation"},"("),"logo.gif",Object(s.b)("span",{parentName:"span",className:"token punctuation"},")")),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(s.b)("span",{parentName:"code",className:"token property"},"background-repeat"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},":"),"no-repeat",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(s.b)("span",{parentName:"code",className:"token property"},"background-position"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},":"),"center",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(s.b)("span",{parentName:"code",className:"token property"},"background-attachment"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},":")," fixed",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n"))),Object(s.b)("h2",{className:"__internal",id:"29检查一段字符串是否全由数字组成"},"29.检查一段字符串是否全由数字组成",Object(s.b)("a",{parentName:"h2",href:"#29%E6%A3%80%E6%9F%A5%E4%B8%80%E6%AE%B5%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%98%AF%E5%90%A6%E5%85%A8%E7%94%B1%E6%95%B0%E5%AD%97%E7%BB%84%E6%88%90","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"js"},Object(s.b)("pre",{parentName:"div",className:"language-js"},Object(s.b)("code",{parentName:"pre",className:"language-js"},Object(s.b)("span",{parentName:"code",className:"token operator"},"<")," script language",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token string"},'"Javascript"'),Object(s.b)("span",{parentName:"code",className:"token operator"},">"),Object(s.b)("span",{parentName:"code",className:"token operator"},"<")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"!"),"–\n",Object(s.b)("span",{parentName:"code",className:"token keyword"},"function")," ",Object(s.b)("span",{parentName:"code",className:"token function"},"checkNum"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token parameter"},"str"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),Object(s.b)("span",{parentName:"code",className:"token keyword"},"return")," str",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"match"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token comment"},"//D/)==null}"),"\n",Object(s.b)("span",{parentName:"code",className:"token function"},"alert"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token function"},"checkNum"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"“",Object(s.b)("span",{parentName:"code",className:"token number"},"1232142141"),'"',Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),"\n",Object(s.b)("span",{parentName:"code",className:"token function"},"alert"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token function"},"checkNum"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"“",Object(s.b)("span",{parentName:"code",className:"token number"},"123214214"),'a1"',Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),"\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"// –>< /script>")))),Object(s.b)("h2",{className:"__internal",id:"30获得一个窗口的大小"},"30.获得一个窗口的大小",Object(s.b)("a",{parentName:"h2",href:"#30%E8%8E%B7%E5%BE%97%E4%B8%80%E4%B8%AA%E7%AA%97%E5%8F%A3%E7%9A%84%E5%A4%A7%E5%B0%8F","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"js"},Object(s.b)("pre",{parentName:"div",className:"language-js"},Object(s.b)("code",{parentName:"pre",className:"language-js"},"document",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"body",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"clientWidth",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";")," document",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"body",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"clientHeight"))),Object(s.b)("h2",{className:"__internal",id:"31怎么判断是否是字符"},"31.怎么判断是否是字符",Object(s.b)("a",{parentName:"h2",href:"#31%E6%80%8E%E4%B9%88%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E6%98%AF%E5%AD%97%E7%AC%A6","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"js"},Object(s.b)("pre",{parentName:"div",className:"language-js"},Object(s.b)("code",{parentName:"pre",className:"language-js"},Object(s.b)("span",{parentName:"code",className:"token keyword"},"if")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token regex"},Object(s.b)("span",{parentName:"span",className:"token regex-delimiter"},"/"),Object(s.b)("span",{parentName:"span",className:"token regex-source language-regex"},"[^/x00-/xff]"),Object(s.b)("span",{parentName:"span",className:"token regex-delimiter"},"/"),Object(s.b)("span",{parentName:"span",className:"token regex-flags"},"g")),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"test"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"s",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(s.b)("span",{parentName:"code",className:"token function"},"alert"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),'“含有汉字"',Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(s.b)("span",{parentName:"code",className:"token keyword"},"else")," ",Object(s.b)("span",{parentName:"code",className:"token function"},"alert"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),'“全是字符"',Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";")))),Object(s.b)("h2",{className:"__internal",id:"t32extarea-自适应文字行数的多少"},"T32.EXTAREA 自适应文字行数的多少",Object(s.b)("a",{parentName:"h2",href:"#t32extarea-%E8%87%AA%E9%80%82%E5%BA%94%E6%96%87%E5%AD%97%E8%A1%8C%E6%95%B0%E7%9A%84%E5%A4%9A%E5%B0%91","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"html"},Object(s.b)("pre",{parentName:"div",className:"language-html"},Object(s.b)("code",{parentName:"pre",className:"language-html"},'< textarea rows=1 name=s1 cols=27 onpropertychange="this.style.posHeight=this.scrollHeight">\n< /textarea>'))),Object(s.b)("h2",{className:"__internal",id:"33脚本永不出错"},"33.脚本永不出错",Object(s.b)("a",{parentName:"h2",href:"#33%E8%84%9A%E6%9C%AC%E6%B0%B8%E4%B8%8D%E5%87%BA%E9%94%99","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"js"},Object(s.b)("pre",{parentName:"div",className:"language-js"},Object(s.b)("code",{parentName:"pre",className:"language-js"},Object(s.b)("span",{parentName:"code",className:"token operator"},"<")," script ",Object(s.b)("span",{parentName:"code",className:"token constant"},"LANGUAGE"),Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token string"},'"JavaScript"'),Object(s.b)("span",{parentName:"code",className:"token operator"},">"),"\n",Object(s.b)("span",{parentName:"code",className:"token operator"},"<")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"!"),"– Hide\n",Object(s.b)("span",{parentName:"code",className:"token keyword"},"function")," ",Object(s.b)("span",{parentName:"code",className:"token function"},"killErrors"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n",Object(s.b)("span",{parentName:"code",className:"token keyword"},"return")," ",Object(s.b)("span",{parentName:"code",className:"token boolean"},"true"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\nwindow",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"onerror ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," killErrors",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"// –>"),"\n",Object(s.b)("span",{parentName:"code",className:"token operator"},"<")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"/"),"script ",Object(s.b)("span",{parentName:"code",className:"token operator"},">")))),Object(s.b)("h2",{className:"__internal",id:"34enter-键可以让光标移到下一个输入框"},"34.ENTER 键可以让光标移到下一个输入框",Object(s.b)("a",{parentName:"h2",href:"#34enter-%E9%94%AE%E5%8F%AF%E4%BB%A5%E8%AE%A9%E5%85%89%E6%A0%87%E7%A7%BB%E5%88%B0%E4%B8%8B%E4%B8%80%E4%B8%AA%E8%BE%93%E5%85%A5%E6%A1%86","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"html"},Object(s.b)("pre",{parentName:"div",className:"language-html"},Object(s.b)("code",{parentName:"pre",className:"language-html"},'< input onkeydown="if(event.keyCode==13)event.keyCode=9″>'))),Object(s.b)("h2",{className:"__internal",id:"35页面进入和退出的特效"},"35.页面进入和退出的特效",Object(s.b)("a",{parentName:"h2",href:"#35%E9%A1%B5%E9%9D%A2%E8%BF%9B%E5%85%A5%E5%92%8C%E9%80%80%E5%87%BA%E7%9A%84%E7%89%B9%E6%95%88","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"text"},Object(s.b)("pre",{parentName:"div",className:"language-text"},Object(s.b)("code",{parentName:"pre",className:"language-text"},'进入页面< meta http-equiv="Page-Enter" content="revealTrans(duration=x, transition=y)">\n推出页面< meta http-equiv="Page-Exit" content="revealTrans(duration=x, transition=y)">\n这个是页面被载入和调出时的一些特效。duration 表示特效的持续时间，以秒为单位。\ntransition 表示使用哪种特效，取值为\n1-23:\n0 矩形缩小\n1 矩形扩大\n2 圆形缩小\n3 圆形扩大\n4 下到上刷新\n5 上到下刷新\n6 左到右刷新\n7 右到左刷新\n8 竖百叶窗\n9 横百叶窗\n10 错位横百叶窗\n11 错位竖百叶窗\n12 点扩散\n13 左右到中间刷新\n14 中间到左右刷新\n15 中间到上下\n16 上下到中间\n17 右下到左上\n18 右上到左下\n19 左上到右下\n20 左下到右上\n21 横条\n22 竖条\n23 以上 22 种随机选择一种'))),Object(s.b)("h2",{className:"__internal",id:"36在规定时间内跳转"},"36.在规定时间内跳转",Object(s.b)("a",{parentName:"h2",href:"#36%E5%9C%A8%E8%A7%84%E5%AE%9A%E6%97%B6%E9%97%B4%E5%86%85%E8%B7%B3%E8%BD%AC","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"html"},Object(s.b)("pre",{parentName:"div",className:"language-html"},Object(s.b)("code",{parentName:"pre",className:"language-html"},'< META http-equiv=V="REFRESH" content="5;URL=http://www.51js.com">'))),Object(s.b)("h2",{className:"__internal",id:"37网页是否被检索"},"37.网页是否被检索",Object(s.b)("a",{parentName:"h2",href:"#37%E7%BD%91%E9%A1%B5%E6%98%AF%E5%90%A6%E8%A2%AB%E6%A3%80%E7%B4%A2","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"text"},Object(s.b)("pre",{parentName:"div",className:"language-text"},Object(s.b)("code",{parentName:"pre",className:"language-text"},'< meta name="ROBOTS" content="属性值">\n其中属性值有以下一些:\n属性值为"all": 文件将被检索，且页上链接可被查询；\n属性值为"none": 文件不被检索，而且不查询页上的链接；\n属性值为"index": 文件将被检索；\n属性值为"follow": 查询页上的链接；\n属性值为"noindex": 文件不检索，但可被查询链接；\n属性值为"nofollow": 文件不被检索，但可查询页上的链接。'))),Object(s.b)("h2",{className:"__internal",id:"38meta详解"},"38.meta详解",Object(s.b)("a",{parentName:"h2",href:"#38meta%E8%AF%A6%E8%A7%A3","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"html"},Object(s.b)("pre",{parentName:"div",className:"language-html"},Object(s.b)("code",{parentName:"pre",className:"language-html"},Object(s.b)("span",{parentName:"code",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token punctuation"},"<"),"meta")," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"name"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"viewport",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"')),Object(s.b)("span",{parentName:"span",className:"token attr-name"},"content"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'))," ",Object(s.b)("span",{parentName:"span",className:"token punctuation"},"/>")),"\n// width    设置viewport宽度，为一个正整数，或字符串‘device-width’\n// height   设置viewport高度，一般设置了宽度，会自动解析出高度，可以不用设置\n// initial-scale    默认缩放比例，为一个数字，可以带小数\n// minimum-scale    允许用户最小缩放比例，为一个数字，可以带小数\n// maximum-scale    允许用户最大缩放比例，为一个数字，可以带小数\n// user-scalable    是否允许手动缩放\n空白页基本meta标签\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"\x3c!-- 设置缩放 --\x3e"),"\n",Object(s.b)("span",{parentName:"code",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token punctuation"},"<"),"meta")," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"name"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"viewport",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'))," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"content"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"width=device-width, initial-scale=1, user-scalable=no, minimal-ui",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'))," ",Object(s.b)("span",{parentName:"span",className:"token punctuation"},"/>")),"\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"\x3c!-- 可隐藏地址栏，仅针对IOS的Safari（注：IOS7.0版本以后，safari上已看不到效果） --\x3e"),"\n",Object(s.b)("span",{parentName:"code",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token punctuation"},"<"),"meta")," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"name"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"apple-mobile-web-app-capable",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'))," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"content"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"yes",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'))," ",Object(s.b)("span",{parentName:"span",className:"token punctuation"},"/>")),"\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"\x3c!-- 仅针对IOS的Safari顶端状态条的样式（可选default/black/black-translucent ） --\x3e"),"\n",Object(s.b)("span",{parentName:"code",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token punctuation"},"<"),"meta")," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"name"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"apple-mobile-web-app-status-bar-style",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'))," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"content"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"black",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'))," ",Object(s.b)("span",{parentName:"span",className:"token punctuation"},"/>")),"\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"\x3c!-- IOS中禁用将数字识别为电话号码/忽略Android平台中对邮箱地址的识别 --\x3e"),"\n",Object(s.b)("span",{parentName:"code",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token punctuation"},"<"),"meta")," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"name"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"format-detection",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"')),Object(s.b)("span",{parentName:"span",className:"token attr-name"},"content"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"telephone=no, email=no",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'))," ",Object(s.b)("span",{parentName:"span",className:"token punctuation"},"/>")),"\n其他meta标签\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"\x3c!-- 启用360浏览器的极速模式(webkit) --\x3e"),"\n",Object(s.b)("span",{parentName:"code",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token punctuation"},"<"),"meta")," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"name"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"renderer",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'))," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"content"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"webkit",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"')),Object(s.b)("span",{parentName:"span",className:"token punctuation"},">")),"\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"\x3c!-- 避免IE使用兼容模式 --\x3e"),"\n",Object(s.b)("span",{parentName:"code",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token punctuation"},"<"),"meta")," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"http-equiv"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"X-UA-Compatible",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'))," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"content"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"IE=edge",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"')),Object(s.b)("span",{parentName:"span",className:"token punctuation"},">")),"\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"\x3c!-- 针对手持设备优化，主要是针对一些老的不识别viewport的浏览器，比如黑莓 --\x3e"),"\n",Object(s.b)("span",{parentName:"code",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token punctuation"},"<"),"meta")," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"name"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"HandheldFriendly",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'))," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"content"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"true",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"')),Object(s.b)("span",{parentName:"span",className:"token punctuation"},">")),"\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"\x3c!-- 微软的老式浏览器 --\x3e"),"\n",Object(s.b)("span",{parentName:"code",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token punctuation"},"<"),"meta")," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"name"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"MobileOptimized",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'))," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"content"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"320",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"')),Object(s.b)("span",{parentName:"span",className:"token punctuation"},">")),"\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"\x3c!-- uc强制竖屏 --\x3e"),"\n",Object(s.b)("span",{parentName:"code",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token punctuation"},"<"),"meta")," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"name"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"screen-orientation",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'))," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"content"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"portrait",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"')),Object(s.b)("span",{parentName:"span",className:"token punctuation"},">")),"\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"\x3c!-- QQ强制竖屏 --\x3e"),"\n",Object(s.b)("span",{parentName:"code",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token punctuation"},"<"),"meta")," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"name"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"x5-orientation",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'))," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"content"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"portrait",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"')),Object(s.b)("span",{parentName:"span",className:"token punctuation"},">")),"\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"\x3c!-- UC强制全屏 --\x3e"),"\n",Object(s.b)("span",{parentName:"code",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token punctuation"},"<"),"meta")," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"name"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"full-screen",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'))," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"content"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"yes",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"')),Object(s.b)("span",{parentName:"span",className:"token punctuation"},">")),"\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"\x3c!-- QQ强制全屏 --\x3e"),"\n",Object(s.b)("span",{parentName:"code",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token punctuation"},"<"),"meta")," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"name"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"x5-fullscreen",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'))," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"content"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"true",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"')),Object(s.b)("span",{parentName:"span",className:"token punctuation"},">")),"\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"\x3c!-- UC应用模式 --\x3e"),"\n",Object(s.b)("span",{parentName:"code",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token punctuation"},"<"),"meta")," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"name"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"browsermode",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'))," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"content"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"application",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"')),Object(s.b)("span",{parentName:"span",className:"token punctuation"},">")),"\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"\x3c!-- QQ应用模式 --\x3e"),"\n",Object(s.b)("span",{parentName:"code",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token punctuation"},"<"),"meta")," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"name"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"x5-page-mode",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'))," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"content"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"app",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"')),Object(s.b)("span",{parentName:"span",className:"token punctuation"},">")),"\n",Object(s.b)("span",{parentName:"code",className:"token comment"},"\x3c!-- windows phone 点击无高光 --\x3e"),"\n",Object(s.b)("span",{parentName:"code",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token tag"},Object(s.b)("span",{parentName:"span",className:"token punctuation"},"<"),"meta")," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"name"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"msapplication-tap-highlight",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'))," ",Object(s.b)("span",{parentName:"span",className:"token attr-name"},"content"),Object(s.b)("span",{parentName:"span",className:"token attr-value"},Object(s.b)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"'),"no",Object(s.b)("span",{parentName:"span",className:"token punctuation"},'"')),Object(s.b)("span",{parentName:"span",className:"token punctuation"},">"))))),Object(s.b)("h2",{className:"__internal",id:"39滚动条"},"39.滚动条",Object(s.b)("a",{parentName:"h2",href:"#39%E6%BB%9A%E5%8A%A8%E6%9D%A1","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"css"},Object(s.b)("pre",{parentName:"div",className:"language-css"},Object(s.b)("code",{parentName:"pre",className:"language-css"},Object(s.b)("span",{parentName:"code",className:"token selector"},".example::-webkit-scrollbar")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(s.b)("span",{parentName:"code",className:"token property"},"width"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},":")," 0",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",Object(s.b)("span",{parentName:"code",className:"token property"},"height"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},":"),"0",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",Object(s.b)("span",{parentName:"code",className:"token property"},"display"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},":")," none",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n",Object(s.b)("span",{parentName:"code",className:"token selector"},"// ::-webkit-scrollbar")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n//   ",Object(s.b)("span",{parentName:"code",className:"token property"},"width"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},":")," 7px",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n//   ",Object(s.b)("span",{parentName:"code",className:"token property"},"height"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},":")," 5px",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n//   ",Object(s.b)("span",{parentName:"code",className:"token property"},"border-radius"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},":"),"15px",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n//   ",Object(s.b)("span",{parentName:"code",className:"token property"},"-webkit-border-radius"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},":"),"  15px",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n// ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",Object(s.b)("span",{parentName:"code",className:"token selector"},"// ::-webkit-scrollbar-track-piece")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n//   ",Object(s.b)("span",{parentName:"code",className:"token property"},"background-color"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},":")," #fff",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n//   ",Object(s.b)("span",{parentName:"code",className:"token property"},"border-radius"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},":"),"15px",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n//   ",Object(s.b)("span",{parentName:"code",className:"token property"},"-webkit-border-radius"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},":"),"  15px",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n// ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",Object(s.b)("span",{parentName:"code",className:"token selector"},"// ::-webkit-scrollbar-thumb:vertical")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n//   ",Object(s.b)("span",{parentName:"code",className:"token property"},"height"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},":")," 5px",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n//   ",Object(s.b)("span",{parentName:"code",className:"token property"},"background-color"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},":")," ",Object(s.b)("span",{parentName:"code",className:"token function"},"rgba"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"144",Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," 147",Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," 153",Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," 0.5",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n//   ",Object(s.b)("span",{parentName:"code",className:"token property"},"border-radius"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},":")," 15px",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n//   ",Object(s.b)("span",{parentName:"code",className:"token property"},"-webkit-border-radius"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},":"),"  15px",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n// ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",Object(s.b)("span",{parentName:"code",className:"token selector"},"// ::-webkit-scrollbar-thumb:horizontal")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n//   ",Object(s.b)("span",{parentName:"code",className:"token property"},"width"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},":")," 7px",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n//   ",Object(s.b)("span",{parentName:"code",className:"token property"},"background-color"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},":")," ",Object(s.b)("span",{parentName:"code",className:"token function"},"rgba"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"144",Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," 147",Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," 153",Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," 0.5",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n//   ",Object(s.b)("span",{parentName:"code",className:"token property"},"border-radius"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},":"),"  15px",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n//   ",Object(s.b)("span",{parentName:"code",className:"token property"},"-webkit-border-radius"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},":")," 15px",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n// ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n"))),Object(s.b)("p",null,"但是！"),Object(s.b)("p",null,"该方法在 iOS 版微信升级到 WKWebView 后有很大的概率无法隐藏滚动条，在旧的 UIWebView 中不存在此问题。"),Object(s.b)("p",null,"iOS 微信 6.5.3 版本开始支持手动切换 WKWebView 和 UIWebView 的办法："),Object(s.b)("p",null,"点击微信会话列表页点击右上角 ",Object(s.b)("inlineCode",{parentName:"p"},"+")," 号按钮，选择菜单中的 ",Object(s.b)("inlineCode",{parentName:"p"},"添加朋友"),"，在添加朋友界面的搜索框中输入字符串：",Object(s.b)("inlineCode",{parentName:"p"},":switchweb"),"，再点击键盘右下角搜索按钮。切换成功后会提示当前使用的内核是 UIWebview 或是 WKWebview。"),Object(s.b)("p",null,"校验切换方法："),Object(s.b)("p",null,"通过命令成功切换到 WKWebview 后，可通过以下方法验证当前网页使用的是否是 WKWebview 内核。"),Object(s.b)("p",null,"微信内任意入口进入任意网页，在网页加载成功后向下拉动页面（或点击网页右上角菜单按钮），使之显示出地址栏，当地址栏以 ",Object(s.b)("inlineCode",{parentName:"p"},"此网页由")," 开头即为当前使用WKWebview，若以 ",Object(s.b)("inlineCode",{parentName:"p"},"网页由")," 则是使用的UIWebview。"),Object(s.b)("h2",{className:"__internal",id:"40将拍摄的图像绘制到-canvas-后，图像方向不对"},"40.将拍摄的图像绘制到 Canvas 后，图像方向不对",Object(s.b)("a",{parentName:"h2",href:"#40%E5%B0%86%E6%8B%8D%E6%91%84%E7%9A%84%E5%9B%BE%E5%83%8F%E7%BB%98%E5%88%B6%E5%88%B0-canvas-%E5%90%8E%EF%BC%8C%E5%9B%BE%E5%83%8F%E6%96%B9%E5%90%91%E4%B8%8D%E5%AF%B9","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("blockquote",null,Object(s.b)("p",{parentName:"blockquote"},Object(s.b)("a",{parentName:"p",href:"http://code.ciaoca.com/javascript/exif-js/",target:"_blank"},"exif.js"))),Object(s.b)("p",null,"在微信中使用 ",Object(s.b)("inlineCode",{parentName:"p"},'<input type="file" multiple accept="image/*">')," 传入照片后，绘制到 Canvas 中时会发现绘制的图像方向不对（手 Q 端貌似不会存在这个问题），这时需要使用 exif.js 来解决。"),Object(s.b)("blockquote",null,Object(s.b)("p",{parentName:"blockquote"},"Exif.js 提供了 JavaScript 读取图像的原始数据的功能扩展，例如：拍照方向、相机设备型号、拍摄时间、ISO 感光度、GPS 地理位置等数据。")),Object(s.b)("div",{className:"rcpress-highlight","data-language":"js"},Object(s.b)("pre",{parentName:"div",className:"language-js"},Object(s.b)("code",{parentName:"pre",className:"language-js"},Object(s.b)("span",{parentName:"code",className:"token operator"},"<"),"input ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"class"),Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token string"},'"uploadBtn"')," type",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token string"},'"file"')," multiple accept",Object(s.b)("span",{parentName:"code",className:"token operator"},"="),Object(s.b)("span",{parentName:"code",className:"token string"},'"image/*"'),Object(s.b)("span",{parentName:"code",className:"token operator"},">"),"\n\ndocument",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"querySelector"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token string"},'".uploadBtn"'),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"addEventListener"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token string"},'"change"'),Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," previewImgFile",Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(s.b)("span",{parentName:"code",className:"token boolean"},"false"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",Object(s.b)("span",{parentName:"code",className:"token keyword"},"function")," ",Object(s.b)("span",{parentName:"code",className:"token function"},"previewImgFile"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n\n    ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"var")," _files ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," files ",Object(s.b)("span",{parentName:"code",className:"token operator"},"||")," event",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"target",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"files",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"var")," _index ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," index ",Object(s.b)("span",{parentName:"code",className:"token operator"},"||")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"0"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"var")," reader ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"new")," ",Object(s.b)("span",{parentName:"code",className:"token class-name"},"FileReader"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    reader",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function-variable function"},"onload")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"function"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token parameter"},"event"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n\n        ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"var")," image ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"new")," ",Object(s.b)("span",{parentName:"code",className:"token class-name"},"Image"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n            image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"src ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," event",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"target",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"result",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n        ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"var")," orientation",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n        image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function-variable function"},"onload")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"function"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n\n            ",Object(s.b)("span",{parentName:"code",className:"token constant"},"EXIF"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"getData"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"function"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{")," ",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 获取图像的数据"),"\n\n                ",Object(s.b)("span",{parentName:"code",className:"token constant"},"EXIF"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"getAllTags"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token keyword"},"this"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";")," ",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 获取图像的全部数据，值以对象的方式返回"),"\n                orientation ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," ",Object(s.b)("span",{parentName:"code",className:"token constant"},"EXIF"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"getTag"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token keyword"},"this"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(s.b)("span",{parentName:"code",className:"token string"},'"Orientation"'),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";")," ",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 获取图像的拍摄方向"),"\n\n                ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"var")," rotateCanvas ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," document",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"createElement"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token string"},'"canvas"'),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n                    rotateCtx ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," rotateCanvas",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"getContext"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token string"},'"2d"'),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n                ",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 针对图像方向进行处理"),"\n                ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"switch")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"orientation",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n\n                    ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"case")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"1")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},":"),"\n                        rotateCanvas",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"width ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"width",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n                        rotateCanvas",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"height ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"height",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n                        rotateCtx",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"drawImage"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"0"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"0"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"width",Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"height",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n                        ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"break"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n                    ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"case")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"6")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 顺时针 90 度"),"\n                        rotateCanvas",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"width ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"height",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n                        rotateCanvas",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"height ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"width",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n                        rotateCtx",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"translate"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token number"},"0"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"0"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n                        rotateCtx",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"rotate"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token number"},"90")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"*")," Math",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token constant"},"PI")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"/")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"180"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n                        rotateCtx",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"drawImage"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"0"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"-"),"image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"height",Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"width",Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"height",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n                        ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"break"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n                    ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"case")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"8")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},":"),"\n                        rotateCanvas",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"width ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"height",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n                        rotateCanvas",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"height ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"width",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n                        rotateCtx",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"translate"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token number"},"0"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"0"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n                        rotateCtx",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"rotate"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token operator"},"-"),Object(s.b)("span",{parentName:"code",className:"token number"},"90")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"*")," Math",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token constant"},"PI")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"/")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"180"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n                        rotateCtx",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"drawImage"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"-"),"image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"width",Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"0"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"width",Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"height",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n                        ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"break"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n                    ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"case")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"3")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 180 度"),"\n                        rotateCanvas",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"width ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"width",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n                        rotateCanvas",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"height ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"height",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n                        rotateCtx",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"translate"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token number"},"0"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"0"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n                        rotateCtx",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"rotate"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"Math",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token constant"},"PI"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n                        rotateCtx",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"drawImage"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"-"),"image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"width",Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},"-"),"image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"height",Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"width",Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"height",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n                        ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"break"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n                    ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"default")," ",Object(s.b)("span",{parentName:"code",className:"token operator"},":"),"\n                        rotateCanvas",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"width ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"width",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n                        rotateCanvas",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"height ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"height",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n                        rotateCtx",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"drawImage"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"0"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"0"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"width",Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," image",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"height",Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n                ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n                ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"var")," rotateBase64 ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," rotateCanvas",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"toDataURL"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token string"},'"image/jpeg"'),Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"0.5"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n            ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n        ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n    ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n    reader",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"readAsDataURL"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"_files",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"["),"_index",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"]"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}")))),Object(s.b)("h2",{className:"__internal",id:"41html2canvas-使用过程中遇到的问题"},"41.html2canvas 使用过程中遇到的问题",Object(s.b)("a",{parentName:"h2",href:"#41html2canvas-%E4%BD%BF%E7%94%A8%E8%BF%87%E7%A8%8B%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98","aria-hidden":!0,className:"anchor"},"#")),Object(s.b)("blockquote",null,Object(s.b)("p",{parentName:"blockquote"},Object(s.b)("a",{parentName:"p",href:"http://html2canvas.hertzen.com/",target:"_blank"},"html2canvas"),"\n",Object(s.b)("strong",{parentName:"p"},"1、图片模糊"))),Object(s.b)("p",null,"默认生成的 Canvas 是 1 倍图，在移动端 Retina 屏幕下显示模糊，可以通过 2 倍图的方式解决："),Object(s.b)("div",{className:"rcpress-highlight","data-language":"js"},Object(s.b)("pre",{parentName:"div",className:"language-js"},Object(s.b)("code",{parentName:"pre",className:"language-js"},"\n",Object(s.b)("span",{parentName:"code",className:"token keyword"},"var")," stageWidth ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," ",Object(s.b)("span",{parentName:"code",className:"token function"},"$"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token string"},'".stage"'),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"width"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n    stageHeight ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," ",Object(s.b)("span",{parentName:"code",className:"token function"},"$"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token string"},'".stage"'),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"height"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",Object(s.b)("span",{parentName:"code",className:"token keyword"},"var")," retinaCanvas ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," document",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"createElement"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token string"},'"canvas"'),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\nretinaCanvas",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"width ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," stageWidth ",Object(s.b)("span",{parentName:"code",className:"token operator"},"*")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"2"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\nretinaCanvas",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"height ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," stageHeight ",Object(s.b)("span",{parentName:"code",className:"token operator"},"*")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"2"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\nretinaCanvas",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"style",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"width ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," stageWidth ",Object(s.b)("span",{parentName:"code",className:"token operator"},"+")," ",Object(s.b)("span",{parentName:"code",className:"token string"},'"px"'),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\nretinaCanvas",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"style",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),"height ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," stageHeight ",Object(s.b)("span",{parentName:"code",className:"token operator"},"+")," ",Object(s.b)("span",{parentName:"code",className:"token string"},'"px"'),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",Object(s.b)("span",{parentName:"code",className:"token keyword"},"var")," ctx ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," retinaCanvas",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"getContext"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token string"},'"2d"'),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\nctx",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"scale"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token number"},"2"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"2"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",Object(s.b)("span",{parentName:"code",className:"token function"},"html2canvas"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"document",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"querySelector"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token string"},'".stage"'),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    canvas",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," retinaCanvas",Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n    ",Object(s.b)("span",{parentName:"code",className:"token function-variable function"},"onrendered"),Object(s.b)("span",{parentName:"code",className:"token operator"},":")," ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"function"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token parameter"},"canvas"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        ",Object(s.b)("span",{parentName:"code",className:"token keyword"},"var")," base64 ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," canvas",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"toDataURL"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";")," ",Object(s.b)("span",{parentName:"code",className:"token comment"},"// 返回 base64"),"\n    ",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"}"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";")))),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"2、图片偏移")),Object(s.b)("p",null,"html2canvas 是解析 DOM 元素实际的样式来生成图片，如果对元素位置进行调整，例如设置了 ",Object(s.b)("inlineCode",{parentName:"p"},"top"),"、",Object(s.b)("inlineCode",{parentName:"p"},"left")," 或者 ",Object(s.b)("inlineCode",{parentName:"p"},"margin-top"),"、",Object(s.b)("inlineCode",{parentName:"p"},"margin-left")," 的样式会导致生成的图片偏移。"),Object(s.b)("p",null,"ctx.transform(-x, -y); // 计算一下偏移的值，通过 transform 方法来修正回去\n",Object(s.b)("strong",{parentName:"p"},"3、ICON 模糊")),Object(s.b)("p",null,"即使是使用了 2 倍图，生成后的图片里的 ICON 还是模糊，可以用 SVG 的方式去代替图片 ICON。"),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"4、不支持设置 border-radius 的元素")),Object(s.b)("p",null,Object(s.b)("img",{parentName:"p",src:"/images/html2canvas-1.png",alt:null})),Object(s.b)("p",null,Object(s.b)("img",{parentName:"p",src:"/images/html2canvas-2.png",alt:null})),Object(s.b)("p",null,"如果你需要在一个头像中设置 ",Object(s.b)("inlineCode",{parentName:"p"},"border-radius: 50%")," 在转为图片后，你会发现并不成功，解决方法在源码 ",Object(s.b)("inlineCode",{parentName:"p"},"html2canvas.js")," 中加入以下代码："),Object(s.b)("div",{className:"rcpress-highlight","data-language":"javascript"},Object(s.b)("pre",{parentName:"div",className:"language-javascript"},Object(s.b)("code",{parentName:"pre",className:"language-javascript"},"tlh ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," borderRadius",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"["),Object(s.b)("span",{parentName:"code",className:"token number"},"0"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"]"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"["),Object(s.b)("span",{parentName:"code",className:"token number"},"0"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"]"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\ntlv ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," borderRadius",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"["),Object(s.b)("span",{parentName:"code",className:"token number"},"0"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"]"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"["),Object(s.b)("span",{parentName:"code",className:"token number"},"1"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"]"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\ntrh ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," borderRadius",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"["),Object(s.b)("span",{parentName:"code",className:"token number"},"1"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"]"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"["),Object(s.b)("span",{parentName:"code",className:"token number"},"0"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"]"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\ntrv ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," borderRadius",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"["),Object(s.b)("span",{parentName:"code",className:"token number"},"1"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"]"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"["),Object(s.b)("span",{parentName:"code",className:"token number"},"1"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"]"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\nbrh ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," borderRadius",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"["),Object(s.b)("span",{parentName:"code",className:"token number"},"2"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"]"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"["),Object(s.b)("span",{parentName:"code",className:"token number"},"0"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"]"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\nbrv ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," borderRadius",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"["),Object(s.b)("span",{parentName:"code",className:"token number"},"2"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"]"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"["),Object(s.b)("span",{parentName:"code",className:"token number"},"1"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"]"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\nblh ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," borderRadius",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"["),Object(s.b)("span",{parentName:"code",className:"token number"},"3"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"]"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"["),Object(s.b)("span",{parentName:"code",className:"token number"},"0"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"]"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\nblv ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," borderRadius",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"["),Object(s.b)("span",{parentName:"code",className:"token number"},"3"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"]"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"["),Object(s.b)("span",{parentName:"code",className:"token number"},"1"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"]"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";")))),Object(s.b)("p",null,"/",Object(s.b)("em",{parentName:"p"}," S 插入这段代码 "),"/"),Object(s.b)("div",{className:"rcpress-highlight","data-language":"javascript"},Object(s.b)("pre",{parentName:"div",className:"language-javascript"},Object(s.b)("code",{parentName:"pre",className:"language-javascript"},Object(s.b)("span",{parentName:"code",className:"token keyword"},"var")," halfHeight ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," Math",Object(s.b)("span",{parentName:"code",className:"token punctuation"},"."),Object(s.b)("span",{parentName:"code",className:"token function"},"floor"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},"("),"height ",Object(s.b)("span",{parentName:"code",className:"token operator"},"/")," ",Object(s.b)("span",{parentName:"code",className:"token number"},"2"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},")"),Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\n\ntlh ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," tlh ",Object(s.b)("span",{parentName:"code",className:"token operator"},">")," halfHeight ",Object(s.b)("span",{parentName:"code",className:"token operator"},"?")," halfHeight ",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," tlh",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\ntlv ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," tlv ",Object(s.b)("span",{parentName:"code",className:"token operator"},">")," halfHeight ",Object(s.b)("span",{parentName:"code",className:"token operator"},"?")," halfHeight ",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," tlv",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\ntrh ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," trh ",Object(s.b)("span",{parentName:"code",className:"token operator"},">")," halfHeight ",Object(s.b)("span",{parentName:"code",className:"token operator"},"?")," halfHeight ",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," trh",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\ntrv ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," trv ",Object(s.b)("span",{parentName:"code",className:"token operator"},">")," halfHeight ",Object(s.b)("span",{parentName:"code",className:"token operator"},"?")," halfHeight ",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," trv",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\nbrh ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," brh ",Object(s.b)("span",{parentName:"code",className:"token operator"},">")," halfHeight ",Object(s.b)("span",{parentName:"code",className:"token operator"},"?")," halfHeight ",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," brh",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\nbrv ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," brv ",Object(s.b)("span",{parentName:"code",className:"token operator"},">")," halfHeight ",Object(s.b)("span",{parentName:"code",className:"token operator"},"?")," halfHeight ",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," brv",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\nblh ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," blh ",Object(s.b)("span",{parentName:"code",className:"token operator"},">")," halfHeight ",Object(s.b)("span",{parentName:"code",className:"token operator"},"?")," halfHeight ",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," blh",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";"),"\nblv ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," blv ",Object(s.b)("span",{parentName:"code",className:"token operator"},">")," halfHeight ",Object(s.b)("span",{parentName:"code",className:"token operator"},"?")," halfHeight ",Object(s.b)("span",{parentName:"code",className:"token operator"},":")," blv",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";")))),Object(s.b)("p",null,"/",Object(s.b)("em",{parentName:"p"}," E 插入这段代码 "),"/"),Object(s.b)("div",{className:"rcpress-highlight","data-language":"javascript"},Object(s.b)("pre",{parentName:"div",className:"language-javascript"},Object(s.b)("code",{parentName:"pre",className:"language-javascript"},Object(s.b)("span",{parentName:"code",className:"token keyword"},"var")," topWidth ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," width ",Object(s.b)("span",{parentName:"code",className:"token operator"},"-")," trh",Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n    rightHeight ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," height ",Object(s.b)("span",{parentName:"code",className:"token operator"},"-")," brv",Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n    bottomWidth ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," width ",Object(s.b)("span",{parentName:"code",className:"token operator"},"-")," brh",Object(s.b)("span",{parentName:"code",className:"token punctuation"},","),"\n    leftHeight ",Object(s.b)("span",{parentName:"code",className:"token operator"},"=")," height ",Object(s.b)("span",{parentName:"code",className:"token operator"},"-")," blv",Object(s.b)("span",{parentName:"code",className:"token punctuation"},";")))))}i.isMDXComponent=!0,i=Object(c.hot)(e)(i),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(b.register(N,"makeShortcode","E:\\h-project\\my-blog\\docs\\notes\\2021-06-30.md"),b.register(l,"Footer","E:\\h-project\\my-blog\\docs\\notes\\2021-06-30.md"),b.register(u,"layoutProps","E:\\h-project\\my-blog\\docs\\notes\\2021-06-30.md"),b.register("wrapper","MDXLayout","E:\\h-project\\my-blog\\docs\\notes\\2021-06-30.md"),b.register(i,"MDXContent","E:\\h-project\\my-blog\\docs\\notes\\2021-06-30.md")),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&r(e)}.call(this,t(5)(e))}}]);